<!DOCTYPE html>
<html lang="en-us"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="–ü—Ä–∏–Ω—Ü–∏–ø –∏–∑–æ–ª—è—Ü–∏–∏: –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–ª–∏—è–Ω–∏—è –Ω–∞ –µ—ë —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
–ß—Ç–æ –ø–ª–æ—Ö–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö?
–ù–∞–ø–æ–º–∏–Ω–∞—é, —Ä–µ—á—å –ø—Ä–æ lost updates, dirty reads, phantom reads –∏ fuzzy/nonrepeatable reads
–°–∞–≥–∞ - —ç—Ç–æ ACD (atomicity &#43; consistency &#43; durability)
–ö–æ–Ω—Ç—Ä–º–µ—Ä—ã (—á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å –∏ –ø—Ä–æ—Å—Ç–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ availability)

Semantic lock - –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ–∫—Ç–æ—Ä—ã–π —Ñ–ª–∞–∂–æ–∫, —Å–æ–æ–±—â–∞—é—â–∏–π –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–µ–π—á–∞—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Å–∞–≥–∏. e.g. —Å—Ç–∞—Ç—É—Å OBJECT_PENDING –∏ —Ç.–¥. –≠—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ (–∫–∞–∫ –≤ ACID), –∞ —Å–∫–æ—Ä–µ–µ –±–∏–∑–Ω–µ—Å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ. –í—Å–µ –±—ã –∫—Ä—É—Ç–æ, –Ω–æ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞—Ç—ã–∫–∞—é—Ç—Å—è –Ω–∞ PENDING-—Å–æ—Å—Ç–æ—è–Ω–∏–µ, –¥–æ–ª–∂–Ω—ã –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è.

–ü—Ä–æ—Å—Ç–æ –æ—Ç–º–µ–Ω—è—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –ø—Ä–æ—Å–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ -&gt; –±–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ -&gt; –±–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å &ldquo;–≥—Ä—è–∑–Ω—ã–º–∏&rdquo; –¥–∞–Ω–Ω—ã–º–∏






Commutative updates - –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (–æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ —ç—Ç–æ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)">  

  <title>
    
      üåø Saga. Lack of Isolation
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.402d969eb985a71a6a1f5691d075f007e164ef5089bb348d7c30f7c743c0dd62f9531d7d51bb39ca18422302c73c7dbc5d5e16e51773af387311ead2edd002ec.css" integrity="sha512-QC2WnrmFpxpqH1aR0HXwB&#43;Fk71CJuzSNfDD3x0PA3WL5Ux19Ubs5yhhCIwLHPH28XV4W5RdzrzhzEerS7dAC7A==" />
  
</head>
<body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>


<article>
    <p class="post-meta">
        <time datetime="2025-05-06 20:24:54 &#43;0600 &#43;06">
            2025-05-06
        </time>
    </p>

    <h1>üåø Saga. Lack of Isolation</h1>

    

    <p>–ü—Ä–∏–Ω—Ü–∏–ø –∏–∑–æ–ª—è—Ü–∏–∏: <strong>–≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –æ–∫–∞–∑—ã–≤–∞—Ç—å –≤–ª–∏—è–Ω–∏—è –Ω–∞ –µ—ë —Ä–µ–∑—É–ª—å—Ç–∞—Ç</strong>.</p>
<p><a href="../acid">–ß—Ç–æ –ø–ª–æ—Ö–æ–≥–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö?</a></p>
<p>–ù–∞–ø–æ–º–∏–Ω–∞—é, —Ä–µ—á—å –ø—Ä–æ <strong>lost updates</strong>, <strong>dirty reads</strong>, <strong>phantom reads</strong> –∏ <strong>fuzzy/nonrepeatable reads</strong></p>
<p>–°–∞–≥–∞ - —ç—Ç–æ ACD (atomicity + consistency + durability)</p>
<h3 id="–∫–æ–Ω—Ç—Ä–º–µ—Ä—ã-—á—Ç–æ–±—ã-–ø—Ä–∏–Ω—è—Ç—å-–∏-–ø—Ä–æ—Å—Ç–∏—Ç—å-–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ-availability">–ö–æ–Ω—Ç—Ä–º–µ—Ä—ã (—á—Ç–æ–±—ã –ø—Ä–∏–Ω—è—Ç—å –∏ –ø—Ä–æ—Å—Ç–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ availability)</h3>
<ul>
<li><strong>Semantic lock</strong> - –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–µ–∫—Ç–æ—Ä—ã–π —Ñ–ª–∞–∂–æ–∫, —Å–æ–æ–±—â–∞—é—â–∏–π –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ, —á—Ç–æ —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–µ–π—á–∞—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Å–∞–≥–∏. e.g. —Å—Ç–∞—Ç—É—Å OBJECT_PENDING –∏ —Ç.–¥. –≠—Ç–æ –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º —Å–º—ã—Å–ª–µ (–∫–∞–∫ –≤ ACID), –∞ —Å–∫–æ—Ä–µ–µ –±–∏–∑–Ω–µ—Å-—Å–æ—Å—Ç–æ—è–Ω–∏–µ. –í—Å–µ –±—ã –∫—Ä—É—Ç–æ, –Ω–æ —Å–ª—É—á–∞–∏, –∫–æ–≥–¥–∞ –¥—Ä—É–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞—Ç—ã–∫–∞—é—Ç—Å—è –Ω–∞ PENDING-—Å–æ—Å—Ç–æ—è–Ω–∏–µ, –¥–æ–ª–∂–Ω—ã –∫–∞–∫-—Ç–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è.
<ol>
<li>–ü—Ä–æ—Å—Ç–æ –æ—Ç–º–µ–Ω—è—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –ø—Ä–æ—Å–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ -&gt; –±–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞</li>
<li>–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ -&gt; –±–æ–ª—å—à–µ –ø—Ä–æ–±–ª–µ–º –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞</li>
<li>–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å &ldquo;–≥—Ä—è–∑–Ω—ã–º–∏&rdquo; –¥–∞–Ω–Ω—ã–º–∏</li>
</ol>
</li>
</ul>
<hr>
<ul>
<li>
<p><strong>Commutative updates</strong> - –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω–æ—Å—Ç—å (–æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª–Ω–µ–Ω—ã –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ –∏ —ç—Ç–æ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç)</p>
<p>e.g. balance += 100 –∏ balance += 200 ‚Äî –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω—ã (—Ä–µ–∑—É–ª—å—Ç–∞—Ç +300 –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ), –∞ balance *= 2 –∏ balance += 100 ‚Äî –Ω–µ –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω—ã (—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–æ—Ä—è–¥–∫–∞).</p>
</li>
</ul>
<hr>
<ul>
<li><strong>Pessimistic view</strong> ‚Äî –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–≥–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –±—ã–ª–∏ –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω—ã + –±–∏–∑–Ω–µ—Å-—Ä–∏—Å–∫ –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–∑–æ–ª—è—Ü–∏–∏ –±—ã–ª –º–∏–Ω–∏–º–∞–ª–µ–Ω.</li>
</ul>
<hr>
<ul>
<li>
<p><strong>Reread value (–æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)</strong> ‚Äî –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é –¥–∞–Ω–Ω—ã—Ö –∏—Ö –Ω—É–∂–Ω–æ —Å–Ω—á–∞–ª–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏ —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ –æ–Ω–∏ –Ω–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã. –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å–µ-—Ç–∞–∫–∏ –±—ã–ª–∏ - –ø—Ä–∏–Ω–∏–º–∞—Ç—å –º–µ—Ä—ã, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ø–∞—Å—Ç—å—Å—è –≤ –ª–æ–≤—É—à–∫—É –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.</p>
<p>–†–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫:</p>
<ul>
<li>–ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ (—Å –≤–µ—Ä—Å–∏–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, version=1).</li>
<li>–ü–µ—Ä–µ–¥ –∑–∞–ø–∏—Å—å—é –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ version –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è.</li>
<li>–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª—Å—è ‚Äî –æ—Ç–∫–∞—Ç—ã–≤–∞–µ–º/–ø–æ–≤—Ç–æ—Ä—è–µ–º –æ–ø–µ—Ä–∞—Ü–∏—é.</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><strong>Version file</strong> ‚Äî —Å–ø–æ—Å–æ–± –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –Ω–µ–∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –∫–æ–º–º—É—Ç–∞—Ç–∏–≤–Ω—ã–µ. –ö–∞–∫? –ó–∞–ø–∏—Å–∞—Ç—å –ø–æ—Å—Ç—É–ø–∞—é—â–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ª–æ–≥, –∞ –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª–Ω—è—Ç—å –∏—Ö –≤ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ</li>
</ul>
<hr>
<ul>
<li><strong>By value</strong> ‚Äî —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: —Å–∞–≥–∏ - –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ <em>–Ω–µ-–æ—á–µ–Ω—å-–∫—Ä–∏—Ç–∏—á–Ω–æ–π</em> –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (sync!!!) –¥–ª—è –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.</li>
</ul>

</article>

                

            </div>
        </main>
    </body>
</html>
